---
title: "Git для новичков"
date: 2023-11-26
tags:
    - git
    - developing
preview: 'Если вы новичок в программировании, вам следует изучить Git, для удобной совместной разработки программ. В этой статье я расскажу как легко использовать Git.'
---

## Примечание
Если вы работаете с Git и GitHub впервые, вам стоит посмотреть несколько видео-уроков, на [YouTube](https://youtu.be/EeARyFrZsnU?t=10)

Если у вас уже есть представление и понимание что такое Git, надеюсь моя статья поможет вам лучше разобраться.
Удачи!

## Установка Git

1. **Windows**:
    ```
    winget install --id Git.Git -e --source winget
    ```
    [Скачать установочный файл](https://git-scm.com/download/win).
2. Linux (Debian):
    ```
    apt-get install git
    ```
    Добавить репозеторий с последними обновлениями (Дополнительно):
    ```
    add-apt-repository ppa:git-core/ppa
    ```
3. Arch:
    ```
    pacman -S git
    ```
4. Fedora:
    ```
    dnf install git
    ```
Если вашей операционной системы нет в списке, скачайте его на [официальном сайте Git](https://git-scm.com/download).

## Разберем базовые термины, и функции git

### Что такое коммит

**Коммит** — представляет собой сохранение изменений в репозитории проекта. Каждый коммит содержит информацию о том, какие файлы были изменены, какие строки были добавлены или удалены, и комментарий, описывающий суть внесенных изменений.

Когда разработчик завершает определенную часть работы над проектом или вносит какие-то значимые изменения, он создает коммит, чтобы сохранить состояние проекта на данный момент. Это позволяет в будущем восстановить предыдущие версии проекта или отслеживать историю изменений.

### Что такое README.md

Наверника, смотря чей нибудь проект, вы замечали файл README.md, но что это такое и почему у него расширение .md а не к примеру .txt?

Файлы с расширением ".md" представляют собой текстовые файлы, написанные в языке разметки Markdown. Markdown — это легкий язык разметки, который позволяет создавать форматированный текст с использованием простого и читаемого синтаксиса. Вот некоторые из основных функций, которые предоставляет Markdown:

1. **Заголовки**:
    ```
    # Заголовок 1
    ## Заголовок 2
    ### Заголовок 3
    ```
2. **Текстовое форматирование**:
    ```
    Курсив: *текст* или _текст_
    Жирный: **текст** или __текст__
    Зачеркнутый: ~~текст~~
    ```
3. **Списки**:
    ```
    Нумерованные списки: 1. Пункт 1
    Маркированные списки: * Пункт 1
    ```
4. **Ссылки**:
    ```
    [Текст ссылки](http://www.example.com)
    ```
5. **Изображения**:
    ```
    ![Описание изображения](путь_к_изображению.jpg)
    ```
6. **Цитаты**:
    ```
    > Это цитата.
    ```
7. **Код**:
    ```
     ```
    код
     ```
    ```
8. **Горизонтальные линии**:
    ```
    ---
    ```
9. **Таблицы**:
    ```
    | Заголовок 1 | Заголовок 2 |
    |-------------|-------------|
    | Ячейка 1 | Ячейка 2 |
    ```
10. **Escape-символ**:
    ```
    Используйте \, чтобы экранировать символы Markdown, если вы хотите использовать их в тексте.
    ```
**Markdown**, обеспечивает простой и интуитивно понятный способ форматирования текста без необходимости использования сложных тегов или стилей. Это особенно полезно для написания документации, блогов и других текстовых материалов в веб-разработке и других областях. Например этот блог работает благодоря этой технологии, и текст который вы читаете, был также написан в формате Markdown.

### Зачем нужен .gitignore

Если в вашем проекте появились файлы которые вы **не** хотите добавлять в коммит. К примеру, вы используете IDE, для написания программы и она оставляет в вашем проекте папку *.ide*. Эта папка содержит в себе временные файлы которые использует только ваша IDE.

Создадим файл **.gitignore**, в корневой директории нашего проекта, и запишем в него путь до нашей папки:
```
.ide
```

После этого мы можем спокойно коммитить наш проект, не боясь что эта папка попадет в основной проект.

## Наш первый коммит

Чтобы создать коммит, нам нужно внести любые изменения в наш проект.

### Шаг 1. Создание и инициализация репозитория

Создайте новый репозиторий на [GitHub](https://github.com/new), и выберем нашу ветку, например *master*
Создайте папку для вашего проекта например *project*
Инициализируйте гит в вашей папке *project*
```
git init
```

### Шаг 2. Создадим тестовый файл README.md в директории нашего проекта.

Наш проект
```
- project
    - README.md
```

Чтобы гит понимал, что мы хотим добавить в проект, а что не хотим, была добавлена команда add <файл>, либо add . (для всего каталога).

Добавим README.md в коммит:
```
git add README.md
```

Для коммита используйте команду
```
git commit -m "Добавляет файл README.md"
```

>Ключ -m, добавляет небольшое сообщение к коммиту.

Старайтесь выбирать короткие, и понятные названия для ваших коммитов, так люди изучающие историю проекта будут лучше понимать кто, и что добавили в проект.

### Шаг 3. Выбор ветки проекта

*Как я писал ранее, мы выбрали ветку **master**, для нашего проекта, по этому я буду использовать именно ее.*

Выбор ветки
```
git branch -M master
```

> Ключ -M, переименовывает ветку
> 
> Использование `-M` вместо `-m` гарантирует, что переименование произойдет даже если ветка с новым именем уже существует. Это полезно, например, если вы хотите обновить ветку с новым именем и переключиться на нее без дополнительных шагов.

### Шаг 4. Соеденение локального git-проекта, с GitHub

Команда git remote add origin в Git используется для добавления удаленного репозитория с именем "origin". Удаленные репозитории в Git представляют собой ссылки на другие репозитории, которые могут быть расположены на удаленных серверах.

Пример использования:
```
git remote add origin <URL-репозитория>
```

> Где <URL-репозитория>, вам нужно указать ссылку на ваш репозиторий, ссылку на него вы можете найти нажав на зеленую кнопку code, на старнице вашего проекта на GitHub.

### Шаг 5. Отправка нашего коммита, и просто push

Пушить первый коммит можно только есть коммит, и привязка локального проекта с вашим удаленным репозиторием.

Запушим наш коммит:
```
git push -u origin master
```

> Ключ -u, устанавливает связь между локальной веткой и удаленной веткой

Ура! Мы создали наш первый проект на GitHub, сделали первый коммит, и успешно загрузили его на GitHub в наш репозиторий.

## Управление версиями

Управление версиями с использованием Git - это система контроля версий, предоставляющая инструменты для отслеживания изменений в исходном коде и других файлах в течение времени. Вот основные концепции и возможности, предоставляемые Git:

### Ветки (Branches)

Представим ситуацию, вы с вашим другом, или коллегой решили совместно вести разработку одного проекта, скидывать друг другу каждый раз файлы, это долгло, неудобно. Git позволяет вести основную ветку для программы *master*, и тестовую *testing*, для того чтобы вносить изменения которые следует проверить предже чем пушить в основную ветку.

Создание ветки testing:
```
git branch -M testing
```

### Как скачать последнюю версию ветки testing?

Ветка *testing* не является основной, и по этому при скачивании проекта, у нас подгрузится последняя версия основой ветки *master*.

1. Для смены ветки, нам нужно скачать наш проект:
    ```
    git clone <сслыка на ваш проект>
    ```
2. И после успешной загрузки, меняем ветку:
    ```
    git checkout testing
    ```

Теперь у нас есть последняя версия ветки testing, и мы можем успешно продолжить разработку программы.

### Пулл-реквесты (Pull request)

**Pull request** — это механизм, используемый в системах управления версиями, таких как Git, для интеграции изменений из одной ветки в другую. Основное применение pull request можно встретить в совместной разработке программного обеспечения на платформах для хостинга репозиториев, таких как GitHub, GitLab или Bitbucket.

Представим ситуацию: вы смотрите чей нибудь проект на GitHub, и замечаете ошибку в коде, либо вы хотите предложить любое другое исправление, вы форкаете проект (Fork — означает создание копии чужого репозитория в своем аккаунте на GitHub, и других)

1. Вы скачиваете проект:
    ```
    git clone <ссылка на репозиторий>
    ```
2. Создаете новую ветку, чтобы не делать изменения в мастере, например вы заметили опечатку в коде:
    ```
    git branch -M fix-typo
    ```
3. Вы вносите все нужные изменения в проект, добавляете в гит все нужные файлы (git add), и вам нужно создать коммит:
    ```
    git commit "Исправление опечатки"
    ```
4. После создания коммита, вам нужно запушить его:
    ```
    git push -u origin fix-typo
    ```

После загрузки коммита в форк проекта на вашем GitHub, вы заходите на этот репозиторий. Вы видите зеленую кнопку "Compare & pull request", при нажатии на нее, вам откроется пулл реквест ваших изменений в коде, вы можете отредактировать название, и добавить комментарий.

**После создания пулл реквеста, участник имеющий нужные права, объеденит ваш код с основной веткой проекта.**

### Слияние веток (Merge)

**Merge** — относится к процессу объединения изменений из одной ветки в другую. В системе контроля версий, такой как Git, ветка представляет собой отдельную линию разработки, которая может включать в себя уникальные изменения. Когда вы хотите объединить изменения из одной ветки в другую, вы выполняете операцию слияния (merge).

На GitHub существует несколько способов слияния изменений:

Merge (слияние) через Pull Request (запрос на включение изменений): Обычно изменения внесенные в форке (копию) репозитория, отправляются через Pull Request. Владелец оригинального репозитория может просмотреть изменения и выполнить слияние, если все в порядке.

Merge командой git merge: Если вы работаете с локальным репозиторием и хотите объединить изменения из одной ветки в другую, вы можете использовать команду git merge в командной строке.

1. Перейдите в ветку, в которую вы хотите выполнить слияние. Например, для перехода в ветку *master* используйте:
    ```
    git checkout master
    ```
2. Выполните команду git merge, указав ветку, из которой вы хотите внести изменения. Например, если вы хотите слить изменения из ветки *feature-branch*, выполните следующую команду:
    ```
    git merge feature-branch
    ```

Этот процесс добавит изменения из ветки feature-branch в вашу текущую ветку (в данном случае, master). Если конфликты возникают в процессе слияния, Git может приостановить операцию и попросить вас разрешить конфликты вручную.

Обратите внимание, что перед слиянием изменений рекомендуется иметь чистый рабочий каталог и закоммитить все изменения в вашем текущем рабочем дереве.

### Преобразование веток (Rebase)

**Rebase** — Это другой способ объединения изменений. Он переписывает историю коммитов, делая ее более линейной. Этот метод обычно используется для поддержания чистой истории коммитов. Однако, его следует использовать осторожно, чтобы не создать проблемы другим разработчикам, с которыми вы можете делиться изменениями.

Процесс слияния может создавать конфликты, если две ветки внесли изменения в одни и те же строки кода. В таких случаях требуется ручное разрешение конфликтов.

Слияние - важная часть работы с Git и GitHub, так как позволяет эффективно управлять изменениями в коде и сотрудничать с другими разработчиками.

Команда git rebase используется для перебазирования (rebase) текущей ветки на другую ветку или коммит. Вот пример использования:

1. Перейдите в ветку, которую вы хотите перебазировать. Например *feature-branch*:
    ```
    git checkout feature-branch
    ```
2. Выполните команду git rebase и укажите ветку (или коммит), на которую вы хотите перебазировать текущую ветку. Например, если вы хотите перебазировать *feature-branch* на *master*, выполните следующую команду:
    ```
    git rebase master
    ```
3. Если возникают конфликты, Git приостановит процесс перебазирования, и вам нужно будет разрешить эти конфликты вручную.
    После разрешения конфликтов продолжите процесс перебазирования:
    ```
    git rebase --continue
    ```

После завершения перебазирования, ваши коммиты из ветки feature-branch будут применены поверх последнего коммита в ветке master.

Обратите внимание, что перебазирование изменяет историю коммитов, поэтому его следует использовать осторожно, особенно если ваши коммиты уже были опубликованы в удалённом репозитории. Использование git rebase может сделать историю коммитов более линейной, что улучшает читаемость, но это также может создать проблемы для других разработчиков, если они уже склонировали предыдущую версию вашей ветки.

Если у вас остались вопросы, или вы чтото не поняли рекомендую посмотреть: [9.1 Git – Перемещение коммитов – Перебазирование вместо слияния: rebase](https://youtu.be/jxwPgfmutjs)

### Редактирование последнего коммита

Команда git commit --amend используется для внесения изменений в последний коммит. Это может быть полезно, если вы забыли включить какие-то изменения в последний коммит или если вы хотите изменить сообщение коммита.

Процесс использования git commit --amend следующий:

1. Добавьте измененные файлы в коммит
    ```
    git add <измененный файл>
    ```
2. Использование git commit --amend
    Выполните команду git commit --amend. Это откроет текстовый редактор (обычно Vim или другой редактор по умолчанию), где вы можете отредактировать сообщение коммита.
    ```
    git commit --amend
    ```
    Если вы хотите изменить только сообщение коммита, внесите изменения в сообщение и сохраните файл.
    Если вы хотите добавить новые изменения к последнему коммиту, убедитесь, что все изменения подготовлены к коммиту (git add), а затем сохраните файл.
3. Сохранение изменений
    Если вы использовали Vim, нажмите Esc, затем введите :wq и нажмите Enter, чтобы сохранить изменения и закрыть редактор.
    Если вы используете другой текстовый редактор, сохранив изменения и закройте редактор.

После завершения этих шагов, последний коммит будет изменен. Однако, важно помнить, что изменение истории коммитов, особенно если она уже была опубликована, может вызвать проблемы для других разработчиков, которые могли склонировать репозиторий. Поэтому, следует использовать git commit --amend осторожно, особенно после того, как коммит уже был отправлен в удаленный репозиторий.

### Revert и Reset 

**git revert** и **git reset** — это две команды в Git, которые используются для отмены изменений в репозитории. Однако, они работают по-разному и применяются в различных сценариях.

**Revert** — Команда git revert создает новый коммит, который отменяет изменения, внесенные одним или несколькими предыдущими коммитами. Суть git revert заключается в том, чтобы создать обратный коммит для каждого из выбранных коммитов.

Пример использования:

```
git revert <хэш-коммита>
```
Где <хэш-коммита> - это идентификатор коммита, который вы хотите отменить.

> Хэш-коммита, можно узнать на странице проекта в commits

**Reset** — Команда git reset используется для изменения позиции HEAD (и, возможно, текущей ветки) и индекса (staging area) до определенного коммита. Она может быть использована с различными опциями для достижения разных результатов:

1. --soft: Сбрасывает HEAD на указанный коммит, но оставляет индекс и рабочий каталог без изменений. Вы можете снова зафиксировать изменения с помощью нового коммита.
2. --mixed: (по умолчанию): Сбрасывает HEAD и индекс на указанный коммит, при этом оставляет изменения в рабочем каталоге не зафиксированными. Вы можете перефиксировать изменения и коммитить их.
3. --hard: Сбрасывает HEAD, индекс и рабочий каталог на указанный коммит. Все изменения после указанного коммита будут утеряны.

Пример использования:
```
git reset --hard <хэш-коммита>
```
Где <хэш-коммита> - это идентификатор коммита, к которому вы хотите вернуться.

> Хэш-коммита, можно узнать на странице проекта в commits

**Ключевое различие:**

- git revert создает новые коммиты, которые отменяют изменения, сохраняя при этом историю коммитов.
- git reset перемещает HEAD и, при необходимости, изменяет индекс и рабочий каталог, но изменяет историю коммитов. Используйте его осторожно, особенно если коммиты уже были опубликованы в общий репозиторий.

## P.S.

*Данная статья может быть дополнена в будующем. Вы можете помочь дополнить ее и отправить пулл реквест с правками к этой статье, ссылка на GitHub находится в шапке статьи. Спасибо!*

## Полезные материалы:

### Статьи
- [Git — Википедия](https://ru.wikipedia.org/wiki/Git)

### Видео
- [Git: курс](https://www.youtube.com/watch?v=W4hoc24K93E&list=PLDyvV36pndZFHXjXuwA_NywNrVQO0aQqb)
- [Дока — как добавить пул-реквест со статьёй, на примере CSS-свойства tab-size](https://youtu.be/y-_nXfKkI3w)
- [Git и GitHub Курс Для Новичков](https://youtu.be/zZBiln_2FhM)
